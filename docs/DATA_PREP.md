# Data Preparation

Download the M3CAD dataset from [Google Drive](https://drive.google.com/drive/folders/1tsuc7tJ9I8G1CWkh3G1ksOKbindNJtlt). The dataset contains 204 scenes with a total size of 120 GB. 

After downloading, please organize the data following this directory structure:

```tree
data/
├── infos/
└── m3cad_carla_ue5/
    ├── maps/
    │   ├── expansion/
    │   ├── Town01.png
    │   ├── Town02.png
    │   ├── Town03.png
    │   ├── Town04.png
    │   ├── Town05.png
    │   ├── Town06.png
    │   ├── Town07.png
    │   └── Town10HD.png
    ├── others/
    │   └── m3cad_uniad_motion_anchor_infos_mode6.pkl
    ├── samples/
    │   ├── CAM_BACK/
    │   ├── CAM_LEFT/
    │   ├── CAM_RIGHT/
    │   ├── CAM_FRONT/
    │   └── LiDAR_TOP/
    ├── v1.0-trainval/
    │   ├── attribute.json
    │   ├── category.json
    │   ├── log.json
    │   ├── map.json
    │   ├── sample_annotation.json
    │   ├── sensor.json
    │   ├── visibility.json
    │   ├── ego_pose.json
    │   ├── instance.json
    │   ├── calibrated_sensor.json
    │   ├── sample_data.json
    │   ├── sample.json
    │   └── scene.json
    └── v1.0-test/
```

## Train/Val/Test Split

We provide the train/val/test split of M3CAD dataset in [splits.py](../submodules/nuscenes-devkit/python-sdk/nuscenes/utils/splits.py) (located in `submodules/nuscenes-devkit/python-sdk/nuscenes/utils/splits.py`).

```python
train = [
    # Timestamp: 2025_06_24_18_33_22
    '2025_06_24_18_33_22_60', '2025_06_24_18_33_22_51', '2025_06_24_18_33_22_75',
    
    # Timestamp: 2025_03_03_15_02_55
    '2025_03_03_15_02_55_51', '2025_03_03_15_02_55_50', '2025_03_03_15_02_55_37',
    
    # Timestamp: 2025_07_01_18_22_24
    '2025_07_01_18_22_24_75', '2025_07_01_18_22_24_60', '2025_07_01_18_22_24_51',
    
    # Timestamp: 2025_03_03_19_46_59
    '2025_03_03_19_46_59_37', '2025_03_03_19_46_59_47', '2025_03_03_19_46_59_25',
    
    # Timestamp: 2025_03_03_17_27_46
    '2025_03_03_17_27_46_25', '2025_03_03_17_27_46_37',
    
    # Timestamp: 2025_03_03_17_43_14
    '2025_03_03_17_43_14_25', '2025_03_03_17_43_14_37', '2025_03_03_17_43_14_47',
    
    # Timestamp: 2025_03_03_20_26_07
    '2025_03_03_20_26_07_47', '2025_03_03_20_26_07_51', '2025_03_03_20_26_07_37', '2025_03_03_20_26_07_50',
    
    # Timestamp: 2025_06_07_23_42_19
    '2025_06_07_23_42_19_85', '2025_06_07_23_42_19_75', '2025_06_07_23_42_19_81',
    
    # Timestamp: 2025_03_03_16_08_34
    '2025_03_03_16_08_34_47', '2025_03_03_16_08_34_37', '2025_03_03_16_08_34_50', '2025_03_03_16_08_34_25',
    
    # Timestamp: 2025_05_27_14_08_01
    '2025_05_27_14_08_01_60', '2025_05_27_14_08_01_50', '2025_05_27_14_08_01_51',
    
    # Timestamp: 2025_03_03_15_35_50
    '2025_03_03_15_35_50_37', '2025_03_03_15_35_50_25', '2025_03_03_15_35_50_47',
    
    # Timestamp: 2025_03_03_19_35_10
    '2025_03_03_19_35_10_47', '2025_03_03_19_35_10_25', '2025_03_03_19_35_10_50', '2025_03_03_19_35_10_37',
    
    # Timestamp: 2025_06_22_18_33_22
    '2025_06_22_18_33_22_51', '2025_06_22_18_33_22_60', '2025_06_22_18_33_22_75',
    
    # Timestamp: 2025_03_03_18_13_10
    '2025_03_03_18_13_10_37', '2025_03_03_18_13_10_50', '2025_03_03_18_13_10_47', '2025_03_03_18_13_10_51',
    
    # Timestamp: 2025_03_03_16_22_16
    '2025_03_03_16_22_16_47', '2025_03_03_16_22_16_25', '2025_03_03_16_22_16_37',
    
    # Timestamp: 2025_03_03_15_17_51
    '2025_03_03_15_17_51_51', '2025_03_03_15_17_51_47', '2025_03_03_15_17_51_50', '2025_03_03_15_17_51_37',
    
    # Timestamp: 2025_07_11_09_04_49
    '2025_07_11_09_04_49_75', '2025_07_11_09_04_49_60', '2025_07_11_09_04_49_51',
    
    # Timestamp: 2025_03_03_20_19_40
    '2025_03_03_20_19_40_37', '2025_03_03_20_19_40_25', '2025_03_03_20_19_40_47',
    
    # Timestamp: 2025_03_03_17_32_03
    '2025_03_03_17_32_03_37', '2025_03_03_17_32_03_47', '2025_03_03_17_32_03_25',
    
    # Timestamp: 2025_06_29_12_50_21
    '2025_06_29_12_50_21_50', '2025_06_29_12_50_21_60', '2025_06_29_12_50_21_51',
    
    # Timestamp: 2025_03_03_19_02_35
    '2025_03_03_19_02_35_37', '2025_03_03_19_02_35_50', '2025_03_03_19_02_35_47', '2025_03_03_19_02_35_25',
    
    # Timestamp: 2025_03_03_14_52_14
    '2025_03_03_14_52_14_37', '2025_03_03_14_52_14_51', '2025_03_03_14_52_14_47',
    
    # Timestamp: 2025_05_26_14_08_01
    '2025_05_26_14_08_01_51', '2025_05_26_14_08_01_60', '2025_05_26_14_08_01_50',
    
    # Timestamp: 2025_03_03_16_56_12
    '2025_03_03_16_56_12_37', '2025_03_03_16_56_12_50', '2025_03_03_16_56_12_47',
    
    # Timestamp: 2025_03_03_18_08_10
    '2025_03_03_18_08_10_25', '2025_03_03_18_08_10_47', '2025_03_03_18_08_10_37', '2025_03_03_18_08_10_50',
    
    # Timestamp: 2025_06_12_10_31_09
    '2025_06_12_10_31_09_60', '2025_06_12_10_31_09_75', '2025_06_12_10_31_09_51',
    
    # Timestamp: 2025_03_03_15_05_32
    '2025_03_03_15_05_32_37', '2025_03_03_15_05_32_51', '2025_03_03_15_05_32_47', '2025_03_03_15_05_32_50',
    
    # Timestamp: 2025_05_31_09_26_05
    '2025_05_31_09_26_05_51', '2025_05_31_09_26_05_75', '2025_05_31_09_26_05_60',
    
    # Timestamp: 2025_03_03_16_06_25
    '2025_03_03_16_06_25_47', '2025_03_03_16_06_25_37', '2025_03_03_16_06_25_25',
    
    # Timestamp: 2025_03_03_17_05_14
    '2025_03_03_17_05_14_25', '2025_03_03_17_05_14_47',
    
    # Timestamp: 2025_03_03_20_40_30
    '2025_03_03_20_40_30_50', '2025_03_03_20_40_30_51', '2025_03_03_20_40_30_47', '2025_03_03_20_40_30_37',
    
    # Timestamp: 2025_03_03_19_26_56
    '2025_03_03_19_26_56_25', '2025_03_03_19_26_56_47', '2025_03_03_19_26_56_37',
    
    # Timestamp: 2025_03_03_15_11_06
    '2025_03_03_15_11_06_50', '2025_03_03_15_11_06_47', '2025_03_03_15_11_06_51', '2025_03_03_15_11_06_37',
    
    # Timestamp: 2025_07_07_08_53_39
    '2025_07_07_08_53_39_75', '2025_07_07_08_53_39_60', '2025_07_07_08_53_39_51',
    
    # Timestamp: 2025_03_03_17_18_27
    '2025_03_03_17_18_27_50', '2025_03_03_17_18_27_37', '2025_03_03_17_18_27_47', '2025_03_03_17_18_27_51',
    
    # Timestamp: 2025_06_04_18_44_22
    '2025_06_04_18_44_22_60', '2025_06_04_18_44_22_50', '2025_06_04_18_44_22_51',
    
    # Timestamp: 2025_03_03_19_42_20
    '2025_03_03_19_42_20_50', '2025_03_03_19_42_20_37', '2025_03_03_19_42_20_47', '2025_03_03_19_42_20_25',
    
    # Timestamp: 2025_03_03_16_15_53
    '2025_03_03_16_15_53_37', '2025_03_03_16_15_53_47', '2025_03_03_16_15_53_25',
    
    # Timestamp: 2025_05_30_09_26_05
    '2025_05_30_09_26_05_60', '2025_05_30_09_26_05_51', '2025_05_30_09_26_05_75',
    
    # Timestamp: 2025_03_03_20_00_30
    '2025_03_03_20_00_30_47', '2025_03_03_20_00_30_25',
    
    # Timestamp: 2025_03_03_16_36_16
    '2025_03_03_16_36_16_47', '2025_03_03_16_36_16_50', '2025_03_03_16_36_16_51',
    
    # Timestamp: 2025_03_03_17_23_10
    '2025_03_03_17_23_10_47', '2025_03_03_17_23_10_37', '2025_03_03_17_23_10_25',
    
    # Timestamp: 2025_06_02_18_44_22
    '2025_06_02_18_44_22_60', '2025_06_02_18_44_22_50', '2025_06_02_18_44_22_51',
    
    # Timestamp: 2025_03_03_19_09_29
    '2025_03_03_19_09_29_37', '2025_03_03_19_09_29_25', '2025_03_03_19_09_29_47',
    
    # Timestamp: 2025_07_05_14_39_47
    '2025_07_05_14_39_47_60', '2025_07_05_14_39_47_51', '2025_07_05_14_39_47_50',
]

val = [
   # Timestamp: 2025_03_03_15_30_41
    '2025_03_03_15_30_41_25', '2025_03_03_15_30_41_50', '2025_03_03_15_30_41_47',
    
    # Timestamp: 2025_03_03_21_08_04
    '2025_03_03_21_08_04_51', '2025_03_03_21_08_04_50', '2025_03_03_21_08_04_37',
    
    # Timestamp: 2025_03_03_18_58_40
    '2025_03_03_18_58_40_37', '2025_03_03_18_58_40_47', '2025_03_03_18_58_40_25',
    
    # Timestamp: 2025_03_03_19_05_10
    '2025_03_03_19_05_10_47', '2025_03_03_19_05_10_37', '2025_03_03_19_05_10_25',
    
    # Timestamp: 2025_03_03_16_00_01
    '2025_03_03_16_00_01_37', '2025_03_03_16_00_01_25', '2025_03_03_16_00_01_47',
    
    # Timestamp: 2025_03_03_19_49_04
    '2025_03_03_19_49_04_50', '2025_03_03_19_49_04_25', '2025_03_03_19_49_04_37', '2025_03_03_19_49_04_47',
    
    # Timestamp: 2025_06_03_18_44_22
    '2025_06_03_18_44_22_60', '2025_06_03_18_44_22_50', '2025_06_03_18_44_22_51',
    
    # Timestamp: 2025_05_24_14_08_01
    '2025_05_24_14_08_01_60', '2025_05_24_14_08_01_50', '2025_05_24_14_08_01_51',
    
    # Timestamp: 2025_03_03_15_28_34
    '2025_03_03_15_28_34_25', '2025_03_03_15_28_34_47', '2025_03_03_15_28_34_37',
    
    # Timestamp: 2025_03_03_20_21_46
    '2025_03_03_20_21_46_37', '2025_03_03_20_21_46_47',
]

test = [
    # Timestamp: 2025_03_03_14_54_49
    '2025_03_03_14_54_49_47', '2025_03_03_14_54_49_37', '2025_03_03_14_54_49_50', '2025_03_03_14_54_49_51',

    # Timestamp: 2025_03_03_17_45_21
    '2025_03_03_17_45_21_25', '2025_03_03_17_45_21_37', '2025_03_03_17_45_21_47', '2025_03_03_17_45_21_50',
    
    # Timestamp: 2025_06_11_10_31_09
    '2025_06_11_10_31_09_51', '2025_06_11_10_31_09_60', '2025_06_11_10_31_09_75',
    
    # Timestamp: 2025_07_02_06_03_04
    '2025_07_02_06_03_04_85', '2025_07_02_06_03_04_75', '2025_07_02_06_03_04_81',
    
    # Timestamp: 2025_03_03_17_07_25
    '2025_03_03_17_07_25_25', '2025_03_03_17_07_25_47', '2025_03_03_17_07_25_50', '2025_03_03_17_07_25_37',
    
    # Timestamp: 2025_05_29_10_09_36
    '2025_05_29_10_09_36_60', '2025_05_29_10_09_36_75', '2025_05_29_10_09_36_51',
    
    # Timestamp: 2025_03_03_16_11_05
    '2025_03_03_16_11_05_47', '2025_03_03_16_11_05_50', '2025_03_03_16_11_05_37', '2025_03_03_16_11_05_51',
    
    # Timestamp: 2025_06_23_18_33_22
    '2025_06_23_18_33_22_51', '2025_06_23_18_33_22_75', '2025_06_23_18_33_22_60',
    
    # Timestamp: 2025_03_03_18_43_56
    '2025_03_03_18_43_56_47', '2025_03_03_18_43_56_25',
]
```